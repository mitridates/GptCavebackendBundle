{#
/**
 * @file edit.html.twig
 * Formulario de edición
 *
 * @param array arrayParams
 * @param FormView form Formulario de edición
 * @param FormInterface delete_form Formulario delete
 * @param Person person
 */
#}
{# event onsubmit para el formulario y botones externos #}
{%set vars = {
        'msg': form.vars.attr.id~'_msg',
        'path': path('cave_backend_person_edit', {'id': person.getPersonid()})
        }
%}
{%set clickEvent %}Grot('#{{form.vars.attr.id}}').form('enviar',
    '{{vars.path}}',//url
    {},//params
    {//callback error
        before: function(){
            $('#form-notification').html('').hide();
        },
        error: function(data){
            (new Grot.mustache('form-notification', 'mst-form-error' )).show(data);
        }
    });return false;{%endset%}
{% extends '@GptCavebackend/base.html.twig' %}
{# scripts #}
{% block page_javascripts %}
{%include '@GptCavebackend/content/person/script/scripts.html.twig'%}
{%endblock%}

{% block content %}
<div id="{{form.vars.attr.id}}_msg" class="text-center"></div>

{# navbar menu & btns #}
{%include '@GptCavebackend/content/person/form/navbar.html.twig'%}

{# formulario #}
{%include '@GptCavebackend/content/person/form/edit.html.twig'%}

{% endblock %}
    
{% block footer_javascripts %}
    {{ parent() }}
 <script type="text/javascript">
    shortcut.add('Shift+ctrl+s', function(){ {{clickEvent}} });
</script>
{%endblock%}    