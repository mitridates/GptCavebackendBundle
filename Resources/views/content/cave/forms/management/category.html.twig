{#
/**
 * @file category.html.twig
 * Formulario parcial
 * @parent ./management.html.twig
 */
#}
<table class="table">
  <tr>
    <td>{{ form_label(form.managementcategory)}}</td>
    <td>{{ form_label(form.managementclassifier)}}</td>
  </tr>
  <tr>
    <td>{{ form_widget(form.managementcategory)}}</td>
    <td>{{ form_widget(form.managementclassifier)}}</td>
  </tr>
</table>

<script>
  let flassifier = document.getElementById('{{ form.managementclassifier.vars.id }}')
  let category = document.getElementById('{{ form.managementcategory.vars.id }}')

  function managementCategory(elem){
    flassifier.disabled = (!elem.options[elem.selectedIndex].value)? true : false;
      if (flassifier.disabled) flassifier.value= ''
    }

  Grot.fn.ready(function () {
    managementCategory(category)
    category.addEventListener('change', function () {
      managementCategory(category)
    })
  });
</script>
